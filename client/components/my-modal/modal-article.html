<div class="modal-header {{data.type}}">
  <h4>
    <i class="margin-right {{data.options.icon}}"></i>
    {{data.header}}
  </h4>
  <a href="" class="btn button-modal-close" ng-click="$dismiss()"><i class="fa fa-remove"></i></a>
</div>

<div class="modal-body">



  <form name="itemForm" ng-submit="submit(itemForm)" novalidate>
    <div>


      <div class="form-group">
        <label>Image</label>

        <div class="input-group">
          <input class="form-control" type="text" name="image" ng-model="data.item.image.name" required disabled/>
          <div class="btn upload-button btn-primary input-group-addon" ngf-select ngf-change="setImage($files)">Upload</div>
        </div>


        <p ng-show="itemForm.image.$invalid && !itemForm.image.$pristine" class="help-block">Image required.</p>
      </div>
      <img ng-if="data.item.image.lastModified" class="img-responsive" ngf-src="data.item.image">
      <img ng-if="data.item.image && !data.item.image.lastModified" class="img-responsive" ng-src="/uploads/{{data.item.image.name}}">
    </div>


    <div class="form-group" ng-class="{ 'has-error' : itemForm.title.$invalid && !itemForm.title.$pristine }">
      <label>Title</label>
      <input class="form-control" type="text" name="title" ng-model="data.item.title" required/>
      <p ng-show="itemForm.title.$invalid && !itemForm.title.$pristine" class="help-block">Title required.</p>
    </div>

    <div class="form-group" ng-class="{ 'has-error' : itemForm.description.$invalid && !itemForm.description.$pristine }">
      <label>Description</label>
      <textarea class="form-control" type="text" name="description" ng-model="data.item.description" required></textarea>
      <p ng-show="itemForm.description.$invalid && !itemForm.description.$pristine" class="help-block">Description required.</p>
    </div>

    <div class="form-group" ng-class="{ 'has-error' : itemForm.price.$invalid && !itemForm.price.$pristine }">
      <label>Price (€)</label>
      <input class="form-control" type="text" name="price" ng-model="data.item.price" ng-pattern="/^[0-9]+(\.[0-9]{1,2})?$/" required/>
      <p ng-show="itemForm.price.$invalid && !itemForm.price.$pristine" class="help-block">Enter price like 89.89 € (2 decimals max, point as a decimal separator)</p>
    </div>



    <p class="text-center">
      <button class="btn btn-default" ng-disabled="itemForm.$invalid" type="submit">
        Save
      </button>

      <button ng-show="data.options.mode==='update'" class="btn btn-danger" ng-click="data.options.mode='delete'; $close(data);">Delete</button>
    </p>
  </form>
</div>
